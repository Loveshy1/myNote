# Python笔记

## 基础知识

### 简单数据类型

1. Python是一门**跨平台、开源、免费**的**解释型高级动态编程语言**，支持伪编译将Python源程序转换为字节码来优化程序和提高运行速度，支持使用将**Python程序**转换为**二进制可执行文件**。

2. Python支持**命令式编程**（How to do）、**函数式编程**（What to do），完全支持面向对象程序设计，语法简洁清晰，拥有大量的几乎支持所有领域应用开发的成熟**扩展库**。

3. **胶水语言**：

    ​		可以把多种不同语言编写的程序融合到一起实现无缝拼接，更好地发挥不同语言和工具的优势，满足不同应用领域的需求。

4. 对象模型

    | 标题       | 对象名称                         | 示例                                                         | 说明                                                         |
    | ---------- | -------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
    | 数字       | int, float, complex              | 1234, 3.14, 1.3e5, 3+4j                                      | 数字大小没有限制，内置支持复数及其运算    * 数字中间位置使用单个下划线作为分隔来提高数字的可读性 |
    | 字符串     | str                              | 'swfu', "I'm student", '''Python ''', r'abc', R'bcd'         | 使用单引号、双引号、三引号作为定界符，以字母r或R引导的表示原始字符串 |
    | 字节串     | bytes                            | b’hello world’                                               | 以字母b引导，可以使用单引号、双引号、三引号作为定界符        |
    | 列表       | list                             | [1, 2, 3]，['a', 'b', ['c', 2]]                              | 所有元素放在一对方括号中，元素之间使用逗号分隔，其中的元素可以是任意类型 |
    | 字典       | dict                             | {1:'food' ,2:'taste', 3:'import'}                            | 所有元素放在一对大括号中，元素之间使用逗号分隔，**元素形式为“键:值”** |
    | 元组       | tuple                            | (2, -5, 6), (3,)                                             | **不可变**，所有元素放在一对圆括号中，元素之间使用逗号分隔，**如果元组中只有一个元素的话，后面的逗号不能省略** |
    | 集合       | set,frozenset                    | {'a', 'b', 'c'}                                              | 所有元素放在一对大括号中，元素之间使用逗号分隔，**元素不允许重复**;另外，set是可变的，而frozenset是不可变的 |
    | 布尔类型   | bool                             | True, False                                                  | 逻辑值，关系运算符、成员测试运算符、同一性测试运算符组成的表达式的值一般为True或False |
    | 异常类型   | Exception, ValueError, TypeError |                                                              | Python内置大量异常类，分别对应不同类型的异常                 |
    | 文件       |                                  | f = open('data.dat', 'rb')                                   | open是Python内置函数，使用指定的模式打开文件，返回文件对象   |
    | 可迭代对象 |                                  | 生成器对象、range对象、zip对象、enumerate对象、map对象、filter对象等等 | 具有**惰性求值**的特点，除range对象之外，其他对象中的元素只能看一次 |
    | 编程单元   |                                  | 函数,类模块                                                  | 类和函数都属于**可调用对象**，模块用来集中存放函数、类、常量或其他对象 |
    | 空类型     | NoneType                         | None                                                         | 空值                                                         |

> - 在Python中，**不需要事先声明变量名及其类型**，直接赋值即可创建各种类型的对象变量。这一点适用于Python任意类型的对象。
> - Python属于**强类型编程语言**，Python解释器会根据赋值或运算来自动推断变量类型。Python还是一种**动态类型语言**，变量的类型也是可以随时变化的。
> - **字符串和元组属于不可变序列**，不能通过下标的方式来修改其中的元素值。
> - Python采用的是**基于值的内存管理方式**，如果为不同变量赋值为相同值，这个值在内存中只有一份。
> - **Python中的变量并不直接存储值，而是存储了值的内存地址或者引用**，这也是变量类型随时可以改变的原因。

5. 变量命名规范

    1. 变量名**必须**以字母或下划线开头，但以下划线开头的变量在Python中有特殊含义。

    2. 变量名中**不能**有空格以及标点符号（括号、引号、逗号、斜线、反斜线、冒号、句号、问号等等）。

    3. **不能**使用关键字作变量名，可以导入keyword模块后使用print(keyword.kwlist)查看所有Python关键字。

    4. **不建议**使用系统内置的模块名、类型名或函数名以及已导入的模块名及其成员名作变量名，这将会改变其类型和含义，可以通过dir(__builtins__)查看所有内置模块、类型和函数。

    5. 变量名对英文字母的**大小写敏感**，例如student和Student是不同的变量。

6. **字符串**界定符前面加字母r或R表示**原始字符串**，其中的特殊字符不进行转义，但字符串的**最后一个字符不能是**。原始字符串主要用于正则表达式、文件路径或者URL的场合。

7. **运算符**不仅可以用于**数值乘法**，还可以用于列表、字符串、元组等类型，当列表、字符串或元组等类型变量与整数进行“*”运算时，表示**对内容进行重复**并返回重复后的新对象。

```python
    >>> "a" * 10          #字符串重复
    'aaaaaaaaaa'
    >>> [1,2,3] * 3         #列表重复
    [1, 2, 3, 1, 2, 3, 1, 2, 3]
    >>> (1,2,3) * 3         #元组重复
    (1, 2, 3, 1, 2, 3, 1, 2, 3)
```

8. Python中的除法有两种，“/”和“//”分别表示除法和整除运算。
9. **乘方运算，==不识别大小写
10. 大小写转化 .lower() .upper()；第一个字母转化为大写字母，其余小写 .capitalize()；每个单词的第一个字母转化为大写，其余小写 .str.title()
11. 字符串转换 str()    整数转换int()
12. **\__name__** 是属于 python 中的内置类属性，就是它会天生就存在与一个 python 程序中，代表对应程序名称。

### 列表

1. 列表用[]定义，可直接赋值，下标可直接访问，**-i代表倒数第i个元素**

2. 编辑列表

    1. 添加元素至列表尾 .append(' ')，插入元素至第i个 insert(i,' ')
    2. 删除元素 del list[i]，出栈第i个元素，默认最后 .pop(i)，根据值删除**首次出现**元素 .remove(' ')

    ```python
    x = [1,2,1,2,1,1,1]
    for i in x[::]:                      #切片
        if i == 1:
    	        x.remove(i)
    
    for i in range(len(x)-1,-1,-1):      #从后往前删
        if x[i]==1:
            del x[i]
    ```

    

3. 组织列表

    > 1. 永久排序 .sort( |reverse=True)
    > 2. 临时排序 sorted( list,reverse=True)
    > 3. 反转列表 .reverse()
    > 4. 获取长度 len(list) 

4. 循环 for element in list:   *element 循环后依旧存在

5. 自动生成数字 range(n_start,n_length,n_end)

6. 快速计算 max(list) min(list) sum(list)

7. 列表解析 list = [value**2 for value in range(1,10)]

9. 特殊列表 —— 元组

    > 1. 元组定义用 ()
    > 2. 定义以后便不可更改，只可重新定义

10. **切片操作**
    1. 切片适用于列表、元组、字符串、range对象等类型，但作用于列表时功能最强大。可以使用切片来**截取**列表中的任何部分，得到一个新列表，也可以通过切片来**修改**和**删除**列表中部分元素，甚至可以通过切片操作为列表对象**增加**元素。
    2. 切片使用2个冒号分隔的3个数字来完成：
        1. **第一个数字**表示切片开始位置（默认为0）。
        2. **第二个数字**表示切片截止（但不包含）位置（默认为列表长度）。
        3. **第三个数字**表示切片的步长（默认为1），当步长省略时可以顺便省略最后一个冒号。
    3. 切片操作不会因为下标越界而抛出异常，而是简单地在列表尾部截断或者返回一个空列表，代码具有更强的**健壮性**。

### 条件语句

1. 列表检查 element in/not in list
2. if :    elif :    else:    
3. if list:    可直接判对象是否为空

### 字典

1. 字典是一系列键-值对 声明方式:

```python
alien_0 = {'color' : 'green', 'point': 5 }
```

2. 添加/更改键-值对

```python
alien_0['name'] = 'aliil'
```

3. 删除键-值对    del alien_0['name']
4. 遍历字典

```python
for key, value in alien_0.items():
    print('Key:'+ key+ 'Value:'+ value)
```

​	.items()    键-值对；.keys()    键；.valuse()    值

5. 列表与字典可以互相嵌套

###  输入与while

1. 输入
    1. input(message)    输出message后，获取输入内容
2. while循环

```python
while i<0 :
```

3. break 跳出循环    continue  重置循环

### 函数

1. 定义函数

```python
def funtion(prama1,prama2):
```

2. 使用关键字实参时，与形参顺序无关；有默认值的形参可以不传实参

```python
funtion(prama2='world!',prama1='hello')
```

3. 设置函数默认值，如果有默认值调用时可以不用传入参数

```python
def funtion(prama1,prama2='word'):
```

4. 可以直接设置返回值
5. 函数参数传递的是对象的地址，所以传入对象会被改变
    1. list可以创建副本传递，保持原本对象不被改变    list[:]
6. 任意数量实参,前面加*，可以一般形参混用

```python
def funtion(*prama1):    #创建了一个prama1元组来获得实参
	print(prama1)
alist = {'gao':3,'luo':2,'hong':1}
funtion('1',2,'gao',alist)
```

7. 任意数量的关键字实参,前面加**，可以一般形参混用

```python
def funtion(**prama1):    #创建了一个prama1字典来获得实参
	for key,value in parma1,items()
alist = {'gao':3,'luo':2,'hong':1}
funtion(name='gao',id=1)
```

8. 可以导入.py的文件作为模块,或单独函数，可为模块设置别名

```python
import module_name as module 
from module_name import funtion_name/*    # *表示所有函数
```

9. 函数编写注意事项

    > 1. 函数名应该为描述性名称，且只使用小写字母和下划线
    > 2. 每个函数都应包含阐述功能的注释，紧跟在函数定义后面，采用文档字符串形式
    > 3. 给形参指定默认值时，等号两边不要有空格
    > 4. 使用关键字实参时，等号两边不要有空格

### 类

1. 类的申明

```python
class class_name():
```

2. 默认构造方法 def \_init_():

3. 自身对象 self

4. 继承

    1. 继承申明

    ```python
    class class_name(father_class):
    ```

    2. super 可调用父类方法
    3. 可重写方法

5. 导入类

```python
from module_name import class_name,class_name
```

## 常用函数

### 内置函数

| **函数**                                                     | **功能简要说明**                                             |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| abs(x)                                                       | 返回数字x的绝对值或复数x的模                                 |
| all(iterable)                                                | 如果对于可迭代对象中所有元素x都等价于True，也就是对于所有元素x都有bool(x)等于True，则返回True。对于空的可迭代对象也返回True |
| any(iterable)                                                | 只要可迭代对象iterable中存在元素x使得bool(x)为True，则返回True。对于空的可迭代对象，返回False |
| ascii(obj)                                                   | 把对象转换为ASCII码表示形式，必要的时候使用转义字符来表示特定的字符 |
| bin(x)                                                       | 把整数x转换为二进制串                                        |
| oct(x)                                                       | 把整数x转换为八进制串                                        |
| hex(x)                                                       | 把整数x转换为十六进制串                                      |
| bool(x)                                                      | 返回与x等价的布尔值True或False                               |
| bytes(x)                                                     | 生成字节串，或把指定对象x转换为字节串表示形式                |
| callable(obj)                                                | 测试对象obj是否可调用。类和函数是可调用的，包含\__call__()方法的类的对象也是可调用的 |
| chr(x)                                                       | 返回Unicode编码为x的字符                                     |
| delattr(obj,  name)                                          | 删除属性，等价于del  obj.name                                |
| dir(obj)                                                     | 返回指定对象或模块obj的成员列表，如果不带参数则返回当前作用域内所有标识符 |
| divmod(x,  y)                                                | 返回包含整商和余数的元组((x-x%y)/y,  x%y)                    |
| enumerate(iterable[,  start])                                | 返回包含元素形式为(0,  iterable[0]), (1, iterable[1]), (2, iterable[2]), ...的迭代器对象 |
| **filter(function, iterable)**                               | 函数用于过滤序列，过滤掉不符合条件的元素，返回由符合条件元素组成的新列表.该接收两个参数，第一个为函数，第二个为序列，序列的每个元素作为参数传递给函数进行判断，然后返回 True 或 False，最后将返回 True 的元素放到新列表中。 |
| float(x)                                                     | 把整数或字符串x转换为浮点数并返回                            |
| frozenset([x]))                                              | 创建不可变的集合对象                                         |
| getattr(obj,  name[, default])                               | 获取对象中指定属性的值，等价于obj.name，如果不存在指定属性则返回default的值，如果要访问的属性不存在并且没有指定default则抛出异常 |
| globals()                                                    | 返回包含当前作用域内全局变量及其值的字典                     |
| **hasattr(obj,  name)**                                      | 测试对象obj是否具有名为name的成员,返回boolean                |
| hash(x)                                                      | 返回对象x的哈希值，如果x不可哈希则抛出异常                   |
| help(obj)                                                    | 返回对象obj的帮助信息                                        |
| **id(obj)**                                                  | 返回对象obj的标识（内存地址）                                |
| **input([提示])**                                            | 显示提示，接收键盘输入的内容，返回字符串                     |
| **int(x[,  d])**                                             | 返回实数（float）、分数（Fraction）或高精度实数（Decimal）x的整数部分，或把d进制的字符串x转换为十进制并返回，d默认为十进制 |
| **isinstance(object, classinfo)**                            | 测试对象obj是否属于指定类型（如果有多个类型的话需要放到元组中）的实例；**会认为子类是一种父类类型，考虑继承关系。** |
| **iter(object[, sentinel])**                                 | 返回指定对象的可迭代对象                                     |
| **len(obj)**                                                 | 返回对象obj包含的元素个数，适用于列表、元组、集合、字典、字符串以及range对象和其他可迭代对象 |
| **list([x])、set([x])、tuple([x])、dict([x])**               | 把对象x转换为列表、集合、元组或字典并返回，或生成空列表、空集合、空元组、空字典 |
| locals()                                                     | 返回包含当前作用域内局部变量及其值的字典                     |
| map(function, iterable, ...)                                 | 根据提供的函数对指定序列做映射。第一个参数 function 以参数序列中的每一个元素调用 function 函数，返回包含每次 function 函数返回值的新列表。 |
| **max(x)、  min(x)**                                         | 返回可迭代对象x中的最大值、最小值，要求x中的所有元素之间可比较大小，允许指定排序规则和x为空时返回的默认值 |
| next(iterator[,  default])                                   | 返回可迭代对象x中的下一个元素，允许指定迭代结束之后继续迭代时返回的默认值，next() 函数要和生成迭代器的iter() 函数一起使用。 |
| pow(x,  y, z=None)                                           | 返回x的y次方，等价于x  ** y或(x  ** y) % z                   |
| **print**(*objects, sep=' ', end='\n', file=sys.stdout, flush=False) | objects —— 复数，表示可以一次输出多个对象。输出多个对象时，需要用 , 分隔。<br/>sep —— 用来间隔多个对象，默认值是一个空格。end -- 用来设定以什么结尾。默认值是换行符 \n，我们可以换成其他字符串。<br/>file —— 要写入的文件对象。<br/>flush —— 输出是否被缓存通常决定于 file，但如果 flush 关键字参数为 True，流会被强制刷新。 |
| **range([start,]  end [, step] )**                           | 返回range对象，其中包含左闭右开区间[start,end)内以step为步长的整数 |
| reduce(func,  sequence[, initial])                           | 将双参数的函数func以迭代的方式从左到右依次应用至序列seq中每个元素，最终返回单个值作为结果。在Python  2.x中该函数为内置函数，在Python  3.x中需要从functools中导入reduce函数再使用 |
| repr(obj)                                                    | 返回对象obj的规范化字符串表示形式，对于大多数对象有eval(repr(obj))==obj |
| **reversed(seq)**                                            | 返回seq（可以是列表、元组、字符串、range以及其他可迭代对象）中所有元素逆序后的迭代器对象 |
| round(x  [, 小数位数])                                       | 对x进行四舍五入，若不指定小数位数，则返回整数                |
| sorted(iterable,  key=None, reverse=False)                   | 返回排序后的列表，其中iterable表示要排序的序列或迭代对象，key用来指定排序规则或依据，reverse用来指定升序或降序。该函数不改变iterable内任何元素的顺序 |
| **str(obj)**                                                 | 把对象obj直接转换为字符串                                    |
| sum(x,  start=0)                                             | 返回序列x中所有元素之和，返回start+sum(x)                    |
| type(obj)                                                    | 返回对象obj的类型，**不会认为子类是一种父类类型，不考虑继承关系。** |
| zip(seq1  [, seq2 [...]])                                    | 返回zip对象，其中元素为(seq1[i],  seq2[i],  ...)形式的元组，最终结果中包含的元素个数取决于所有参数序列或可迭代对象中最短的那个 |

## 序列函数

### 常用方法

| **方法**                          | **说明**                                                     |
| --------------------------------- | ------------------------------------------------------------ |
| lst.append(x)                     | 将元素x添加至列表lst尾部                                     |
| lst.extend(L)                     | 将列表L中所有元素添加至列表lst尾部                           |
| lst.insert(index, x)              | 在列表lst指定位置index处添加元素x，该位置后面的所有元素后移一个位置 |
| lst.remove(x)                     | 在列表lst中删除首次出现的指定元素，该元素之后的所有元素前移一个位置 |
| lst.pop([index])                  | 删除并返回列表lst中下标为index（默认为-1）的元素             |
| lst.clear()                       | 删除列表lst中所有元素，但保留列表对象                        |
| lst.index(x)                      | 返回列表lst中第一个值为x的元素的下标，若不存在值为x的元素则抛出异常 |
| lst.count(x)                      | 返回指定元素x在列表lst中的出现次数                           |
| lst.reverse()                     | 对列表lst所有元素进行逆序                                    |
| lst.sort(key=None, reverse=False) | 对列表lst中的元素进行排序，key用来指定排序依据，reverse决定升序（False）还是降序（True） |
| lst.copy()                        | 返回列表lst的浅复制                                          |
| lst.seepcopy()                    | 原列表中的元素进行递归，把所有的值都复制到新列表中，对嵌套的子列表不再是复制引用。新列表和原列表是互相独立，修改任何一个都不会影响另外一个. |

## 正则表达式

### 介绍

* 正则表达式使用某种**预定义的模式**去匹配一类具有共同特征的字符串，主要用于处理字符串，可以快速、准确地完成复杂的**查找、替换**等处理要求，在**文本编辑与处理、网页爬虫**之类的场合中有重要应用。
* Python中，**re模块**提供了正则表达式操作所需要的功能。

### 正则表达式语法

| **元字符** | **功能说明**                                                 |
| ---------- | ------------------------------------------------------------ |
| .          | 匹配除换行符以外的任意单个字符                               |
| *          | 匹配位于*之前的字符或子模式的0次或多次出现                   |
| +          | 匹配位于+之前的字符或子模式的1次或多次出现                   |
| -          | 在[]之内用来表示范围                                         |
| \|         | 匹配位于\|之前或之后的字符                                   |
| ^          | 匹配行首，匹配以^后面的字符开头的字符串                      |
| $          | 匹配行尾，匹配以$之前的字符结束的字符串                      |
| ?          | 匹配位于?之前的0个或1个字符。当此字符紧随任何其他限定符（*、+、?、{n}、{n,}、{n,m}）之后时，匹配模式是“非贪心的”。“非贪心的”模式匹配搜索到的、尽可能短的字符串，而默认的“贪心的”模式匹配搜索到的、尽可能长的字符串。例如，在字符串“oooo”中，“o+?”只匹配单个“o”，而“o+”匹配所有“o” |
| \          | 表示位于\之后的为转义字符                                    |
| \num       | 此处的num是一个正整数，表示子模式编号。  例如，“(.)\1”匹配两个连续的相同字符 |
| \f         | 换页符匹配                                                   |
| \n         | 换行符匹配                                                   |